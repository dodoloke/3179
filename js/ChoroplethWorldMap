{
    "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
    "data": {
        "url": "https://raw.githubusercontent.com/dodoloke/3179/refs/heads/main/data/average-monthly-surface-temperature.csv"
    },
    "params": [
            {
             "name": "Year_selection",
             "value": 2025,
             "bind": {"input": "range", "name": "Year: ", "min": 1940, "max": 2025, "step": 1}
            }
         ],
    "vconcat": [
        {
         "width": "container",
         "height": 400,
         "title": "Average Monthly Surface Temperature (Â°C) by Country",
         "projection": {"type": "equalEarth", "rotate": [-150, 0, 0]},
         "layer": [ 
            {
             "data": {
                "url": "https://raw.githubusercontent.com/dodoloke/3179/refs/heads/main/js/WorldMapWithGraticules.topojson",
                    "format": {
                        "type": "topojson",
                        "feature": "ne_110m_admin_0_countries"
                    }
                },
                "transform": [
                    {
                        "lookup": "properties.ISO_A3",
                        "from": {
                            "data": {
                                "url": "https://raw.githubusercontent.com/dodoloke/3179/refs/heads/main/data/average-monthly-surface-temperature.csv"
                                }
                            },
                            "k"
                        }
                    }
                ]

            }
         ]
        }
    ]
}